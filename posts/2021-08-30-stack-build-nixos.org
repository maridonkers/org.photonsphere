----
title: Stack build nuisance with Nix?
modified: 2021-08-30
meta_description: 
tags: Computer, Software, Linux, Docker, Haskell, Stack, Nix, NixOS
----

Fed up with the nuisance of using =stack build= in combination with Nix/NixOS? e.g. Getting errors like this:

#+BEGIN_SRC sh
  $ stack build
  error: attribute 'ghc8106' missing, at (string):1:43
  (use '--show-trace' to show detailed location information)
#+END_SRC

(.more.)
* Command line
Try using the following command as a workaround:

#+BEGIN_SRC sh
stack build --docker --no-nix
#+END_SRC

If you get an error like this:

#+BEGIN_SRC sh
Resolver not supported for Docker images:
    no resolver specified
Use an LTS resolver, or set the 'image' explicitly, in your configuration file.
#+END_SRC

Then use the =-resolver= command line switch, e.g. as follows:

#+BEGIN_SRC sh
stack --docker --no-nix --resolver lts-18.6 ...rest-of-your-stack-command-...
#+END_SRC

* Configuration file
Alternatively change your =stack.yaml= file as follows:

#+BEGIN_SRC yaml
docker:
    enable: true

nix:
    enable: false
#+END_SRC
